<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../styles.css">
    <script src="scripts.js"></script> <!-- Archivo de scripts para la funcionalidad -->
    <title>Login - Acodem</title>
</head>
<body>
    <header>
        <nav class="menu-bar">
            <div class="logo">
                <span class="logo-acodem">Acodem</span>
                <span class="tagline">Asociación Cordobesa de Esclerosis Múltiple</span>
            </div>
        </nav>
    </header>

    <div class="login-container">
        <h2>Iniciar Sesión</h2>
        <form id="form-iniciar-sesion">
            <label for="username">Usuario (correo electrónico):</label>
            <input type="email" id="username" name="username" required>

            <label for="password">Contraseña:</label>
            <input type="password" id="password" name="password" required>

            <div class="checkbox-container">
                <label>
                    <input type="checkbox" name="remember"> Recordarme
                </label>
            </div>

            <button type="submit" class="btn-primary">Iniciar Sesión</button>
            <p>¿No tienes cuenta? <a href="register.html">Registrar</a></p> <!-- Enlace a la página de registro -->
            <p><a href="#">¿Olvidaste tu contraseña?</a></p>
        </form>
    </div>

    <!-- Manejo del evento de envío para iniciar sesión -->
    <script>
        import { iniciarSesion } from './scripts.js'; // Importar función para iniciar sesión

        document.getElementById('form-iniciar-sesion').addEventListener('submit', function (e) {
            e.preventDefault(); // Prevenir el comportamiento por defecto

            const email = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            iniciarSesion(email, password)
                .then((user) => {
                    alert('Inicio de sesión exitoso');
                    // Redirigir a una página adecuada después del inicio de sesión exitoso
                    window.location.href = 'dashboard.html'; // Ejemplo de redirección
                })
                .catch((error) => {
                    console.error('Error al iniciar sesión:', error);
                    alert('Error al iniciar sesión: ' + error.message);
                });
        });
    </script>
</body>
</html>
